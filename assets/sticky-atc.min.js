!function(){var t={4558:function(t,e,i){"use strict";i.d(e,{GQ:function(){return r}});var n=i(8971);i(9280);window.MinimogEvents=window.MinimogEvents||new n.Z,window._ThemeEvent=window.MinimogEvents,window.MinimogLibs.loadjs=__loadjs;window.MinimogEvents,window.MinimogTheme;const r=window.MinimogSettings||{};window.MinimogStrings,window.MinimogLibs},9280:function(){__loadjs=function(){var t=function(){},e={},i={},n={};function r(t,e){if(t){var r=n[t];if(i[t]=e,r)for(;r.length;)r[0](t,e),r.splice(0,1)}}function s(e,i){e.call&&(e={success:e}),i.length?(e.error||t)(i):(e.success||t)(e)}function o(e,i,n,r){var s,c,a=document,u=n.async,d=(n.numRetries||0)+1,l=n.before||t,h=e.replace(/[\?|#].*$/,""),m=e.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(h)?((c=a.createElement("link")).rel="stylesheet",c.href=m,(s="hideFocus"in c)&&c.relList&&(s=0,c.rel="preload",c.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(c=a.createElement("img")).src=m:((c=a.createElement("script")).src=e,c.async=void 0===u||u),!(c.onload=c.onerror=c.onbeforeload=function(t){var a=t.type[0];if(s)try{c.sheet.cssText.length||(a="e")}catch(t){18!=t.code&&(a="e")}if("e"==a){if((r+=1)<d)return o(e,i,n,r)}else if("preload"==c.rel&&"style"==c.as)return c.rel="stylesheet";i(e,a,t.defaultPrevented)})!==l(e,c)&&a.head.appendChild(c)}function c(t,i,n){var c,a;if(i&&i.trim&&(c=i),a=(c?n:i)||{},c){if(c in e)throw"LoadJS";e[c]=!0}function u(e,i){!function(t,e,i){var n,r,s=(t=t.push?t:[t]).length,c=s,a=[];for(n=function(t,i,n){if("e"==i&&a.push(t),"b"==i){if(!n)return;a.push(t)}--s||e(a)},r=0;r<c;r++)o(t[r],n,i)}(t,(function(t){s(a,t),e&&s({success:e,error:i},t),r(c,t)}),a)}if(a.returnPromise)return new Promise(u);u()}return c.ready=function(t,e){return function(t,e){t=t.push?t:[t];var r,s,o,c=[],a=t.length,u=a;for(r=function(t,i){i.length&&c.push(t),--u||e(c)};a--;)s=t[a],(o=i[s])?r(s,o):(n[s]=n[s]||[]).push(r)}(t,(function(t){s(e,t)})),c},c.done=function(t){r(t,[])},c.reset=function(){e={},i={},n={}},c.isDefined=function(t){return t in e},c}()},8971:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});class n{constructor(){this.events={}}get evts(){return Object.keys(this.events)}subscribe(t,e){return this.events[t]=this.events[t]||[],this.events[t].push(e),()=>this.unSubscribe(t,e)}unSubscribe(t,e){const i=this.events[t];if(i&&Array.isArray(i))for(let t=0;t<i.length;t++)if(i[t]===e){i.splice(t,1);break}}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];(this.events[t]||[]).forEach((t=>{t(...i)}))}}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=i(4558).GQ;customElements.get("sticky-atc")||customElements.define("sticky-atc",class extends HTMLElement{constructor(){var t,e,i;super(),i=()=>{this.observer&&(this.observer.observe(this.productFormActions),this.observeTarget=this.productFormActions)},(e="setObserveTarget")in(t=this)?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,this.selectors={prodTitle:".psa__title",mainImage:".spc__main-img",atc:".add-to-cart",buyNowBtn:".prod__dynamic_checkout",variantIdSelect:'[name="id"]'},document.body.classList.add("sticky-atc-bar-enabled"),this.hasCustomFields=!!document.querySelector(".sf-prod-template__desktop .product__custom-field")}connectedCallback(){var t,e;this.productFormActions=document.querySelector(".f-product-form"),this.container=this.closest(".prod__sticky-atc"),this.mainProduct=document.querySelector(".main-product.product-form"),this.mainATCButton=null===(t=this.mainProduct)||void 0===t?void 0:t.querySelector(this.selectors.atc),this.mainProductDynamic=null===(e=this.mainProduct)||void 0===e?void 0:e.querySelector(this.selectors.buyNowBtn),this.stickyATCBar=document.querySelector(".prod__sticky-atc"),this.productId=this.dataset.productId,this.domNodes=queryDomNodes(this.selectors,this.stickyATCBar),this.variantData=this.getVariantData(),this.init(),this.addEventListener("change",(()=>{const t=this.querySelector(this.selectors.variantIdSelect).value;this.currentVariant=this.variantData.find((e=>e.id===Number(t))),this.updateButton(!0,"",!1),this.currentVariant?this.updateButton(!this.currentVariant.available,window.MinimogStrings.soldOut):this.updateButton(!0,"",!0)}))}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.container.querySelector('[type="application/json"]').textContent),this.variantData}init(){if(!this.mainATCButton)return void this.container.classList.remove("translate-y-full");const{prodTitle:e,mainImage:i,atc:n,buyNowBtn:r}=this.domNodes;r&&(this.enable_dynamic_checkout=!0);const s=`-${t.headerHeight||66}px 0px 0px 0px`;"IntersectionObserver"in window&&(this.observer=new IntersectionObserver((t=>{t.forEach((t=>{const e=1!==t.intersectionRatio?"remove":"add";this.container.classList[e]("translate-y-full"),document.documentElement.classList[1!=t.intersectionRatio?"remove":"add"]("stick-atc-show")}))}),{threshold:1,rootMargin:s})),null==e||e.addEventListener("click",window.MinimogLibs.scrollToTop),null==i||i.addEventListener("click",window.MinimogLibs.scrollToTop),this.hasCustomFields&&(n.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),window.MinimogLibs.scrollToTop((()=>this.mainATCButton.click()))})),r&&r.addEventListener("click",(t=>{validateForm(this.mainProduct).length>0&&(t.preventDefault(),t.stopPropagation(),window.MinimogLibs.scrollToTop((()=>{var t;return null===(t=this.mainProductDynamic)||void 0===t?void 0:t.click()})))}),!0)),this.setObserveTarget(),this.syncWithMainProductForm()}checkDevice(t){const e=this.clientHeight+"px";document.documentElement.style.setProperty("--f-sticky-atc-bar-height",e)}updateButton(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;const i=this.querySelector(".sticky-atc-form");if(!i)return;const n=i.querySelector('[name="add"]'),r=i.querySelector('[name="add"] > .atc-text'),s=i.dataset.preorder;n&&(t?(n.setAttribute("disabled","disabled"),e&&(r.textContent=e)):(n.removeAttribute("disabled"),n.classList.remove("disabled"),r.textContent="true"===s?window.MinimogStrings.preorder:window.MinimogStrings.addToCart))}syncWithMainProductForm(){const t=this.querySelector('[name="id"]');window.MinimogEvents.subscribe(`${this.productId}__VARIANT_CHANGE`,(async e=>{t.value=e.id}))}})}()}();